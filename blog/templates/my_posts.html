{% extends 'base.html' %}

{% block title %}My Posts{% endblock %}

{% block content %}
  <h2 class="mb-4 text-center">My Posts</h2>

  {% if posts %}
    {% for post in posts %}
      <div class="card mb-3 shadow-sm border-0">
        <div class="card-header bg-light">
          <strong>{{ post.title }}</strong>
        </div>
        <div class="card-body">
          <p><small class="text-muted">Published on {{ post.created_at|date:"F j, Y, g:i a" }}</small></p>

          <p class="text-secondary">
            {% if post.excerpt %}
              {{ post.excerpt }}
            {% else %}
              {{ post.content|truncatechars:200 }}
            {% endif %}
          </p>

          <div class="d-flex justify-content-end">
            <a href="{{ post.get_absolute_url }}" class="btn btn-primary btn-sm me-2">View</a>
            <a href="{% url 'post_edit' slug=post.slug %}" class="btn btn-success btn-sm me-2">Edit</a>
            <a href="{% url 'post_delete' slug=post.slug %}" class="btn btn-danger btn-sm">Delete</a>
          </div>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <p class="text-muted text-center">You havenâ€™t created any posts yet.</p>
  {% endif %}
{% endblock %}
